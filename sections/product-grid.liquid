
{% schema %}
{
  "name": "Product grid",
  "settings": [
    { "type": "collection", "id": "collection", "label": "Collection" },
    { "type": "range", "id": "rows", "label": "Rows", "min": 1, "max": 6, "step": 1, "default": 2 },
    { "type": "range", "id": "cols", "label": "Columns (desktop)", "min": 2, "max": 4, "step": 1, "default": 4 }
  ]
}
{% endschema %}
<section class="py-16 bg-gray-50">
  <div class="container mx-auto px-6">
    <h2 class="text-3xl font-bold text-center mb-12">{{ section.settings.collection | default: collections['all'] | map: 'title' }}</h2>
    {% assign col = collections[section.settings.collection] %}
    {% if col == nil %}{% assign col = collections['all'] %}{% endif %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-{{ section.settings.cols }} gap-6">
      {% for product in col.products limit: section.settings.rows | times: section.settings.cols %}
        {% render 'product-card', product: product %}
      {% endfor %}
    </div>
  </div>
</section>
