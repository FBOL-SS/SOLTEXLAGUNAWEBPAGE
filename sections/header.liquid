<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web/src/regular/style.css" />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  .shopdev * {
    font-family: 'Poppins', sans-serif;
  }

  .shopdev .header-nav {
    transition: all 0.3s ease;
  }

  .shopdev .nav-link {
    position: relative;
    transition: color 0.3s ease;
  }

  .shopdev .nav-link::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: {{ section.settings.accent_color }};
    transition: width 0.3s ease;
  }

  .shopdev .nav-link:hover::after {
    width: 100%;
  }

  .shopdev .cta-button {
    transition: all 0.3s ease;
  }

  .shopdev .cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }

  .shopdev .hero-overlay {
    background: linear-gradient(135deg, rgba(0, 0, 0, 0.6) 0%, rgba(0, 0, 0, 0.4) 100%);
  }

  .shopdev .hero-image {
    filter: blur(2px);
  }

  .shopdev .mobile-menu {
    transform: translateX(-100%);
    transition: transform 0.3s ease;
  }

  .shopdev .mobile-menu.active {
    transform: translateX(0);
  }

  .shopdev .hamburger span {
    display: block;
    width: 25px;
    height: 3px;
    background-color: {{ section.settings.text_color }};
    margin: 5px 0;
    transition: all 0.3s ease;
  }

  .shopdev .hamburger.active span:nth-child(1) {
    transform: rotate(45deg) translate(8px, 8px);
  }

  .shopdev .hamburger.active span:nth-child(2) {
    opacity: 0;
  }

  .shopdev .hamburger.active span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }

  @media (max-width: 768px) {
    .shopdev .hero-content h1 {
      font-size: 28px;
    }
  }
</style>

<div class="w-full">
  <!-- Header Navigation -->
  <header class="header-nav w-full py-4 px-6 md:px-12" style="background-color: {{ section.settings.header_bg_color }};">
    <div class="max-w-7xl mx-auto flex items-center justify-between">
      <!-- Logo -->
      <div class="flex items-center">
        {% if section.settings.logo != blank %}
          <a href="/" class="block">
            {{ section.settings.logo | image_url: width: 200 | image_tag: 
              class: 'h-12 md:h-16 w-auto',
              alt: section.settings.logo_text
            }}
          </a>
        {% else %}
          <a href="/" class="text-2xl md:text-3xl font-bold" style="color: {{ section.settings.text_color }};">
            {{ section.settings.logo_text }}
          </a>
        {% endif %}
      </div>

      <!-- Desktop Navigation -->
      <nav class="hidden md:flex items-center space-x-8">
        {% for block in section.blocks %}
          {% if block.type == 'nav_link' %}
            <a href="{{ block.settings.link }}" 
               class="nav-link text-base font-medium" 
               style="color: {{ section.settings.text_color }};"
               {{ block.shopify_attributes }}>
              {{ block.settings.label }}
            </a>
          {% endif %}
        {% endfor %}
      </nav>

      <!-- CTA Button Desktop -->
      <div class="hidden md:block">
        {% if section.settings.cta_text != blank %}
          <a href="{{ section.settings.cta_link }}" 
             class="cta-button inline-block px-6 py-3 rounded-md font-semibold"
             style="background-color: {{ section.settings.accent_color }}; color: {{ section.settings.cta_text_color }};">
            {{ section.settings.cta_text }}
          </a>
        {% endif %}
      </div>

      <!-- Mobile Menu Button -->
      <button class="hamburger md:hidden flex flex-col justify-center items-center w-10 h-10" id="mobileMenuBtn">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu fixed top-0 left-0 w-full h-full z-50 md:hidden" style="background-color: {{ section.settings.header_bg_color }};" id="mobileMenu">
    <div class="flex flex-col h-full">
      <div class="flex items-center justify-between p-6">
        {% if section.settings.logo != blank %}
          <a href="/" class="block">
            {{ section.settings.logo | image_url: width: 150 | image_tag: 
              class: 'h-10 w-auto',
              alt: section.settings.logo_text
            }}
          </a>
        {% else %}
          <a href="/" class="text-2xl font-bold" style="color: {{ section.settings.text_color }};">
            {{ section.settings.logo_text }}
          </a>
        {% endif %}
        <button class="hamburger active flex flex-col justify-center items-center w-10 h-10" id="closeMobileMenu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      
      <nav class="flex flex-col space-y-6 px-6 py-8">
        {% for block in section.blocks %}
          {% if block.type == 'nav_link' %}
            <a href="{{ block.settings.link }}" 
               class="text-lg font-medium" 
               style="color: {{ section.settings.text_color }};">
              {{ block.settings.label }}
            </a>
          {% endif %}
        {% endfor %}
        
        {% if section.settings.cta_text != blank %}
          <a href="{{ section.settings.cta_link }}" 
             class="inline-block px-6 py-3 rounded-md font-semibold text-center mt-4"
             style="background-color: {{ section.settings.accent_color }}; color: {{ section.settings.cta_text_color }};">
            {{ section.settings.cta_text }}
          </a>
        {% endif %}
      </nav>
    </div>
  </div>

  <!-- Hero Section -->
  <div class="relative w-full h-[500px] md:h-[600px] overflow-hidden">
    <!-- Background Image with Blur -->
    <div class="absolute inset-0">
      {% if section.settings.hero_image != blank %}
        {{ section.settings.hero_image | image_url: width: 1920 | image_tag: 
          class: 'hero-image w-full h-full object-cover',
          loading: 'eager',
          sizes: '100vw'
        }}
      {% else %}
        {{ 'lifestyle-2' | placeholder_svg_tag: 'hero-image w-full h-full object-cover bg-gray-300' }}
      {% endif %}
    </div>

    <!-- Dark Overlay -->
    <div class="hero-overlay absolute inset-0"></div>

    <!-- Hero Content -->
    <div class="hero-content absolute inset-0 flex items-center justify-center px-6 md:px-12">
      <div class="max-w-4xl text-center">
        {% if section.settings.hero_headline != blank %}
          <h1 class="text-3xl md:text-5xl lg:text-6xl font-bold leading-tight mb-6" 
              style="color: {{ section.settings.hero_text_color }};">
            {{ section.settings.hero_headline }}
          </h1>
        {% endif %}

        {% if section.settings.hero_subheadline != blank %}
          <p class="text-lg md:text-xl mb-8 font-light" 
             style="color: {{ section.settings.hero_text_color }};">
            {{ section.settings.hero_subheadline }}
          </p>
        {% endif %}

        {% if section.settings.hero_button_text != blank %}
          <a href="{{ section.settings.hero_button_link }}" 
             class="cta-button inline-block px-8 py-4 rounded-md font-semibold text-lg"
             style="background-color: {{ section.settings.accent_color }}; color: {{ section.settings.cta_text_color }};">
            {{ section.settings.hero_button_text }}
          </a>
        {% endif %}
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const mobileMenuBtn = document.getElementById('mobileMenuBtn');
    const closeMobileMenu = document.getElementById('closeMobileMenu');
    const mobileMenu = document.getElementById('mobileMenu');

    if (mobileMenuBtn && mobileMenu) {
      mobileMenuBtn.addEventListener('click', function() {
        mobileMenu.classList.add('active');
        mobileMenuBtn.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    }

    if (closeMobileMenu && mobileMenu) {
      closeMobileMenu.addEventListener('click', function() {
        mobileMenu.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        document.body.style.overflow = '';
      });
    }

    // Close mobile menu when clicking on a link
    const mobileLinks = mobileMenu.querySelectorAll('a');
    mobileLinks.forEach(link => {
      link.addEventListener('click', function() {
        mobileMenu.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        document.body.style.overflow = '';
      });
    });
  });
</script>

{% schema %}
{
  "name": "SOLTEX Industrial Header",
  "class": "shopdev",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Logo Settings"
    },
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo Image"
    },
    {
      "type": "text",
      "id": "logo_text",
      "label": "Logo Text",
      "default": "SOLTEX"
    },
    {
      "type": "header",
      "content": "Header Colors"
    },
    {
      "type": "color",
      "id": "header_bg_color",
      "label": "Header Background Color",
      "default": "#FFFFFF"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "accent_color",
      "label": "Accent Color (Blue)",
      "default": "#0066CC"
    },
    {
      "type": "header",
      "content": "Call-to-Action Button"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Button Text",
      "default": "Solicitar Cotización"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Button Link"
    },
    {
      "type": "color",
      "id": "cta_text_color",
      "label": "CTA Text Color",
      "default": "#FFFFFF"
    },
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Background Image"
    },
    {
      "type": "textarea",
      "id": "hero_headline",
      "label": "Hero Headline",
      "default": "Líderes en maquinaria, refacciones y automatización textil en México y Centroamérica"
    },
    {
      "type": "textarea",
      "id": "hero_subheadline",
      "label": "Hero Subheadline"
    },
    {
      "type": "text",
      "id": "hero_button_text",
      "label": "Hero Button Text",
      "default": "Conocer Más"
    },
    {
      "type": "url",
      "id": "hero_button_link",
      "label": "Hero Button Link"
    },
    {
      "type": "color",
      "id": "hero_text_color",
      "label": "Hero Text Color",
      "default": "#FFFFFF"
    }
  ],
  "blocks": [
    {
      "type": "nav_link",
      "name": "Navigation Link",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Link Label",
          "default": "Inicio"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link URL"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "SOLTEX Industrial Header",
      "settings": {
        "logo_text": "SOLTEX",
        "header_bg_color": "#FFFFFF",
        "text_color": "#1a1a1a",
        "accent_color": "#0066CC",
        "cta_text": "Solicitar Cotización",
        "cta_link": "/pages/contact",
        "cta_text_color": "#FFFFFF",
        "hero_image": "shopify://shop_images/sewing-machine-in-use.jpg",
        "hero_headline": "Líderes en maquinaria, refacciones y automatización textil en México y Centroamérica",
        "hero_subheadline": "Soluciones industriales de vanguardia para optimizar su producción textil con tecnología de última generación",
        "hero_button_text": "Conocer Más",
        "hero_button_link": "/collections/frontpage",
        "hero_text_color": "#FFFFFF"
      },
      "blocks": [
        {
          "type": "nav_link",
          "settings": {
            "label": "Inicio",
            "link": "/"
          }
        },
        {
          "type": "nav_link",
          "settings": {
            "label": "Maquinaria",
            "link": "/collections/frontpage"
          }
        },
        {
          "type": "nav_link",
          "settings": {
            "label": "Refacciones",
            "link": "/products/crankshaft-position-ckp"
          }
        },
        {
          "type": "nav_link",
          "settings": {
            "label": "Automatización",
            "link": "/products/throttle-position-sensor-tps"
          }
        },
        {
          "type": "nav_link",
          "settings": {
            "label": "Contacto",
            "link": "/pages/contact"
          }
        }
      ]
    }
  ]
}
{% endschema %}