<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@phosphor-icons/web/src/regular/style.css" />

<style>
  #shopify-section-{{ section.id }} {
    --soltex-navy: #0d1b2a;
    --soltex-white: #ffffff;
    --soltex-gray-light: #f4f4f4;
  }

  #shopify-section-{{ section.id }} .hero-section {
    position: relative;
    min-height: 500px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  #shopify-section-{{ section.id }} .hero-bg-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    user-select: none;
    pointer-events: none;
  }

  #shopify-section-{{ section.id }} .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--soltex-navy);
  }

  #shopify-section-{{ section.id }} .hero-content {
    position: relative;
    z-index: 2;
    max-width: 1200px;
    margin: 0 auto;
    padding: 60px 24px;
    text-align: center;
  }

  #shopify-section-{{ section.id }} .hero-title {
    font-size: 48px;
    font-weight: 700;
    color: var(--soltex-white);
    margin-bottom: 16px;
    line-height: 1.2;
  }

  #shopify-section-{{ section.id }} .hero-subtitle {
    font-size: 20px;
    color: var(--soltex-white);
    margin-bottom: 32px;
    line-height: 1.5;
    opacity: 0.9;
  }

  #shopify-section-{{ section.id }} .hero-cta-wrapper {
    display: flex;
    gap: 16px;
    justify-content: center;
    flex-wrap: wrap;
  }

  #shopify-section-{{ section.id }} .hero-cta-primary,
  #shopify-section-{{ section.id }} .hero-cta-secondary {
    display: inline-block;
    padding: 14px 32px;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    border-radius: 4px;
    transition: all 0.3s ease;
    cursor: pointer;
  }

  #shopify-section-{{ section.id }} .hero-cta-primary {
    background-color: var(--soltex-white);
    color: var(--soltex-navy);
  }

  #shopify-section-{{ section.id }} .hero-cta-primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  }

  #shopify-section-{{ section.id }} .hero-cta-secondary {
    background-color: transparent;
    color: var(--soltex-white);
    border: 2px solid var(--soltex-white);
  }

  #shopify-section-{{ section.id }} .hero-cta-secondary:hover {
    background-color: var(--soltex-white);
    color: var(--soltex-navy);
  }

  /* 游댠 GRID */
  #shopify-section-{{ section.id }} .machines-grid {
    max-width: 1400px;
    margin: 0 auto;
    padding: 80px 24px;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 32px;
  }

  #shopify-section-{{ section.id }} .machine-card-wrapper {
    position: relative;
    height: 100%;
  }

  #shopify-section-{{ section.id }} .machine-card-link {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    text-decoration: none;
  }

  #shopify-section-{{ section.id }} .machine-card {
    position: relative;
    background-color: var(--soltex-white);
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  #shopify-section-{{ section.id }} .machine-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
  }

  /* 游댠 SUPREME PERFECTA - FONDO BLANCO */
  #shopify-section-{{ section.id }} .machine-card-image-wrapper {
    position: relative;
    width: 100%;
    height: 120px; /* 游댠 M츼S PEQUE칌A */
    background-color: #ffffff !important; /* 游댠 FONDO BLANCO */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* 游댠 LOGO CENTRADO Y EXACTO */
  #shopify-section-{{ section.id }} .machine-card-image {
    max-width: 280px !important; /* 游댠 ANCHO M츼XIMO */
    max-height: 100px !important; /* 游댠 ALTO M츼XIMO */
    width: auto !important;
    height: auto !important;
    object-fit: contain !important; /* 游댠 MANTIENE PROPORCI칍N */
    object-position: center !important;
    user-select: none;
    pointer-events: none;
  }

  /* 游댠 LOGO ESQUINA (OPCIONAL) */
  #shopify-section-{{ section.id }} .machine-card-logo {
    display: none; /* 游댠 OCULTO - YA NO NECESARIO */
  }

  #shopify-section-{{ section.id }} .machine-card-badges {
    position: absolute;
    top: 8px;
    right: 8px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    z-index: 2;
  }

  #shopify-section-{{ section.id }} .machine-badge {
    background-color: var(--soltex-navy);
    color: var(--soltex-white);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  #shopify-section-{{ section.id }} .machine-card-content {
    padding: 20px;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
  }

  #shopify-section-{{ section.id }} .machine-card-title {
    font-size: 20px;
    font-weight: 700;
    color: var(--soltex-navy);
    margin-bottom: 8px;
  }

  #shopify-section-{{ section.id }} .machine-card-description {
    font-size: 14px;
    color: #666;
    line-height: 1.5;
    margin-bottom: 16px;
  }

  #shopify-section-{{ section.id }} .machine-card-features {
    list-style: none;
    padding: 0;
    margin: 0 0 16px 0;
  }

  #shopify-section-{{ section.id }} .machine-card-feature {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    margin-bottom: 8px;
    font-size: 12px;
    color: #444;
    line-height: 1.4;
  }

  #shopify-section-{{ section.id }} .machine-card-feature i {
    color: var(--soltex-navy);
    font-size: 16px;
    flex-shrink: 0;
    margin-top: 1px;
  }

  #shopify-section-{{ section.id }} .machine-card-cta {
    display: inline-block;
    padding: 10px 20px;
    background-color: var(--soltex-navy);
    color: var(--soltex-white);
    text-decoration: none;
    border-radius: 4px;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    text-align: center;
    margin-top: auto;
  }

  #shopify-section-{{ section.id }} .machine-card-cta:hover {
    background-color: #1a2f47;
  }

  #shopify-section-{{ section.id }} .support-block {
    padding: 60px 24px;
    text-align: center;
  }

  #shopify-section-{{ section.id }} .support-content {
    max-width: 800px;
    margin: 0 auto;
  }

  #shopify-section-{{ section.id }} .support-title {
    font-size: 32px;
    font-weight: 700;
    color: var(--soltex-navy);
    margin-bottom: 16px;
  }

  #shopify-section-{{ section.id }} .support-description {
    font-size: 18px;
    color: #666;
    line-height: 1.6;
    margin-bottom: 32px;
  }

  #shopify-section-{{ section.id }} .support-cta {
    display: inline-block;
    padding: 14px 32px;
    background-color: var(--soltex-navy);
    color: var(--soltex-white);
    text-decoration: none;
    border-radius: 4px;
    font-size: 16px;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  #shopify-section-{{ section.id }} .support-cta:hover {
    background-color: #1a2f47;
    transform: translateY(-2px);
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.15);
  }

  @media (max-width: 767px) {
    #shopify-section-{{ section.id }} .machines-grid {
      grid-template-columns: 1fr;
      gap: 24px;
      padding: 40px 20px;
    }

    #shopify-section-{{ section.id }} .machine-card-image-wrapper {
      height: 100px; /* 游댠 M츼S PEQUE칌A M칍VIL */
    }

    #shopify-section-{{ section.id }} .machine-card-image {
      max-width: 240px !important; /* 游댠 M츼S PEQUE칌O M칍VIL */
      max-height: 80px !important;
    }

    #shopify-section-{{ section.id }} .hero-title {
      font-size: 36px;
    }

    #shopify-section-{{ section.id }} .hero-subtitle {
      font-size: 18px;
    }

    #shopify-section-{{ section.id }} .hero-content {
      padding: 40px 20px;
    }
  }
</style>

<div class="w-full">
  <!-- Hero Section -->
  <div class="hero-section">
    {%- if section.settings.hero_image != blank -%}
      {{ section.settings.hero_image | image_url: width: 2000 | image_tag: 
        loading: 'eager',
        class: 'hero-bg-image',
        alt: section.settings.hero_title,
        sizes: '100vw'
      }}
    {%- endif -%}
    
    <div class="hero-overlay" style="opacity: {{ section.settings.hero_overlay_opacity }}"></div>
    
    <div class="hero-content">
      {%- if section.settings.hero_title != blank -%}
        <h1 class="hero-title">{{ section.settings.hero_title }}</h1>
      {%- endif -%}
      
      {%- if section.settings.hero_subtitle != blank -%}
        <p class="hero-subtitle">{{ section.settings.hero_subtitle }}</p>
      {%- endif -%}
      
      <div class="hero-cta-wrapper">
        {%- if section.settings.hero_cta_primary_text != blank and section.settings.hero_cta_primary_link != blank -%}
          <a href="{{ section.settings.hero_cta_primary_link }}" 
             class="hero-cta-primary"
             aria-label="{{ section.settings.hero_cta_primary_text }}">
            {{ section.settings.hero_cta_primary_text }}
          </a>
        {%- endif -%}
        
        {%- if section.settings.hero_cta_secondary_text != blank and section.settings.hero_cta_secondary_link != blank -%}
          <a href="{{ section.settings.hero_cta_secondary_link }}" 
             class="hero-cta-secondary"
             aria-label="{{ section.settings.hero_cta_secondary_text }}">
            {{ section.settings.hero_cta_secondary_text }}
          </a>
        {%- endif -%}
      </div>
    </div>
  </div>

  <!-- Machines Grid -->
  <div class="machines-grid">
    {%- for block in section.blocks -%}
      {%- if block.type == 'machine_brand' -%}
        <div class="machine-card-wrapper" {{ block.shopify_attributes }}>
          {%- if block.settings.brand_url != blank -%}
            <a href="{{ block.settings.brand_url }}" 
               class="machine-card-link"
               aria-label="Ver m치s sobre {{ block.settings.brand_name }}"></a>
          {%- endif -%}
          
          <article class="machine-card">
            <div class="machine-card-image-wrapper">
              {%- if block.settings.brand_image != blank -%}
                {{ block.settings.brand_image | image_url: width: 300 | image_tag: 
                  loading: 'lazy',
                  class: 'machine-card-image',
                  alt: block.settings.brand_name
                }}
              {%- else -%}
                {{ 'product-1' | placeholder_svg_tag: 'machine-card-image' }}
              {%- endif -%}
              
              <div class="machine-card-badges">
                {%- if block.settings.badge_1 != blank -%}
                  <span class="machine-badge">{{ block.settings.badge_1 }}</span>
                {%- endif -%}
                {%- if block.settings.badge_2 != blank -%}
                  <span class="machine-badge">{{ block.settings.badge_2 }}</span>
                {%- endif -%}
              </div>
            </div>
            
            <div class="machine-card-content">
              {%- if block.settings.brand_name != blank -%}
                <h2 class="machine-card-title">{{ block.settings.brand_name }}</h2>
              {%- endif -%}
              
              {%- if block.settings.brand_description != blank -%}
                <p class="machine-card-description">{{ block.settings.brand_description }}</p>
              {%- endif -%}
              
              {%- if block.settings.feature_1 != blank or block.settings.feature_2 != blank or block.settings.feature_3 != blank -%}
                <ul class="machine-card-features">
                  {%- if block.settings.feature_1 != blank -%}
                    <li class="machine-card-feature">
                      <i class="ph ph-check-circle" aria-hidden="true"></i>
                      <span>{{ block.settings.feature_1 }}</span>
                    </li>
                  {%- endif -%}
                  {%- if block.settings.feature_2 != blank -%}
                    <li class="machine-card-feature">
                      <i class="ph ph-check-circle" aria-hidden="true"></i>
                      <span>{{ block.settings.feature_2 }}</span>
                    </li>
                  {%- endif -%}
                  {%- if block.settings.feature_3 != blank -%}
                    <li class="machine-card-feature">
                      <i class="ph ph-check-circle" aria-hidden="true"></i>
                      <span>{{ block.settings.feature_3 }}</span>
                    </li>
                  {%- endif -%}
                </ul>
              {%- endif -%}
              
              {%- if block.settings.cta_text != blank and block.settings.brand_url != blank -%}
                <a href="{{ block.settings.brand_url }}" 
                   class="machine-card-cta"
                   aria-label="{{ block.settings.cta_text }} - {{ block.settings.brand_name }}">
                  {{ block.settings.cta_text }}
                </a>
              {%- endif -%}
            </div>
          </article>
        </div>
      {%- endif -%}
    {%- endfor -%}
  </div>

  <!-- Support Block -->
  {%- if section.settings.show_support_block -%}
    <div class="support-block" style="background-color: {{ section.settings.support_bg_color }}">
      <div class="support-content">
        {%- if section.settings.support_title != blank -%}
          <h2 class="support-title">{{ section.settings.support_title }}</h2>
        {%- endif -%}
        
        {%- if section.settings.support_description != blank -%}
          <p class="support-description">{{ section.settings.support_description }}</p>
        {%- endif -%}
        
        {%- if section.settings.support_cta_text != blank and section.settings.support_cta_link != blank -%}
          <a href="{{ section.settings.support_cta_link }}" 
             class="support-cta"
             aria-label="{{ section.settings.support_cta_text }}">
            {{ section.settings.support_cta_text }}
          </a>
        {%- endif -%}
      </div>
    </div>
  {%- endif -%}
</div>

<script>
  (function() {
    'use strict';
    
    const sectionId = 'shopify-section-{{ section.id }}';
    const section = document.getElementById(sectionId);
    
    if (section) {
      const images = section.querySelectorAll('img');
      
      images.forEach(function(img) {
        img.addEventListener('contextmenu', function(e) {
          e.preventDefault();
          return false;
        });
        
        img.addEventListener('dragstart', function(e) {
          e.preventDefault();
          return false;
        });
      });
    }
  })();
</script>

{% schema %}
{
  "name": "soltex-machines-hub",
  "class": "shopdev",
  "tag": "section",
  "settings": [
    {
      "type": "header",
      "content": "Hero Section"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Background Image"
    },
    {
      "type": "range",
      "id": "hero_overlay_opacity",
      "min": 0,
      "max": 1,
      "step": 0.1,
      "label": "Overlay Opacity",
      "default": 0.5
    },
    {
      "type": "text",
      "id": "hero_title",
      "label": "Hero Title"
    },
    {
      "type": "textarea",
      "id": "hero_subtitle",
      "label": "Hero Subtitle"
    },
    {
      "type": "text",
      "id": "hero_cta_primary_text",
      "label": "Primary CTA Text"
    },
    {
      "type": "url",
      "id": "hero_cta_primary_link",
      "label": "Primary CTA Link"
    },
    {
      "type": "text",
      "id": "hero_cta_secondary_text",
      "label": "Secondary CTA Text"
    },
    {
      "type": "url",
      "id": "hero_cta_secondary_link",
      "label": "Secondary CTA Link"
    },
    {
      "type": "header",
      "content": "Support Block"
    },
    {
      "type": "checkbox",
      "id": "show_support_block",
      "label": "Show Support Block",
      "default": true
    },
    {
      "type": "color",
      "id": "support_bg_color",
      "label": "Support Background Color",
      "default": "#f4f4f4"
    },
    {
      "type": "text",
      "id": "support_title",
      "label": "Support Title"
    },
    {
      "type": "textarea",
      "id": "support_description",
      "label": "Support Description"
    },
    {
      "type": "text",
      "id": "support_cta_text",
      "label": "Support CTA Text"
    },
    {
      "type": "url",
      "id": "support_cta_link",
      "label": "Support CTA Link"
    }
  ],
  "blocks": [
    {
      "type": "machine_brand",
      "name": "Machine Brand",
      "settings": [
        {
          "type": "text",
          "id": "brand_name",
          "label": "Brand Name"
        },
        {
          "type": "url",
          "id": "brand_url",
          "label": "Brand Page URL"
        },
        {
          "type": "image_picker",
          "id": "brand_logo",
          "label": "Brand Logo"
        },
        {
          "type": "image_picker",
          "id": "brand_image",
          "label": "Brand Image"
        },
        {
          "type": "textarea",
          "id": "brand_description",
          "label": "Brand Description"
        },
        {
          "type": "text",
          "id": "feature_1",
          "label": "Feature 1"
        },
        {
          "type": "text",
          "id": "feature_2",
          "label": "Feature 2"
        },
        {
          "type": "text",
          "id": "feature_3",
          "label": "Feature 3"
        },
        {
          "type": "text",
          "id": "badge_1",
          "label": "Badge 1"
        },
        {
          "type": "text",
          "id": "badge_2",
          "label": "Badge 2"
        },
        {
          "type": "text",
          "id": "cta_text",
          "label": "CTA Button Text"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "soltex-machines-hub",
      "settings": {
        "hero_image": "shopify://shop_images/sewing-machine-in-use.jpg",
        "hero_overlay_opacity": 0.6,
        "hero_title": "M치quinas Industriales de Alta Precisi칩n",
        "hero_subtitle": "Tecnolog칤a de vanguardia para la industria textil. Descubre nuestras marcas l칤deres en maquinaria de confecci칩n profesional.",
        "hero_cta_primary_text": "Ver Cat치logo Completo",
        "hero_cta_primary_link": "/collections/all",
        "hero_cta_secondary_text": "Solicitar Cotizaci칩n",
        "hero_cta_secondary_link": "/pages/contact",
        "show_support_block": true,
        "support_bg_color": "#f4f4f4",
        "support_title": "쯅ecesitas Asesor칤a Especializada?",
        "support_description": "Nuestro equipo de expertos est치 listo para ayudarte a encontrar la m치quina perfecta para tu negocio. Ofrecemos soporte t칠cnico, capacitaci칩n y servicio post-venta.",
        "support_cta_text": "Contactar Asesor",
        "support_cta_link": "/pages/contact"
      },
      "blocks": [
        {
          "type": "machine_brand",
          "settings": {
            "brand_name": "Supreme",
            "brand_url": "/pages/supreme",
            "brand_image": "shopify://shop_images/black-fabric-in-sewing-machine.jpg",
            "brand_description": "M치quinas de coser industriales de alta velocidad con tecnolog칤a japonesa. Ideales para producci칩n en serie con acabados profesionales.",
            "feature_1": "Velocidad de hasta 5,500 puntadas por minuto",
            "feature_2": "Sistema de lubricaci칩n autom치tica",
            "feature_3": "Motor servo de bajo consumo energ칠tico",
            "badge_1": "M치s Vendida",
            "badge_2": "Garant칤a 2 A침os",
            "cta_text": "Ver Modelos Supreme"
          }
        }
      ]
    }
  ]
}
{% endschema %}